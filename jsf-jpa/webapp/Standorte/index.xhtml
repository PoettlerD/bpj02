<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" template="/WEB-INF/template.xhtml">

                
	<ui:define name="header">
		Mehr verkaufen
	</ui:define>
	
	    <ul style="list-style-type: none;">
	    <li style="float: left; padding: 10px;"><a href="/bp2/Kundensegmente">Kundensegmente</a></li>
        <li style="float: left; padding: 10px;"><a href="/bp2/Kunden">Kunden</a></li>
        <li style="float: left; padding: 10px;"><a href="/bp2/Personen">Personen</a></li>
        <li style="float: left; padding: 10px;"><a href="/bp2/Ansprechpartner">Ansprechpartner</a></li>
        <li style="float: left; padding: 10px;"><a href="/bp2/Vertraege">Verträge</a></li>
        <li style="float: left; padding: 10px;"><a href="/bp2/Standorte">Standorte</a></li>
        <li style="float: left; padding: 10px;"><a href="/bp2/Produkte">Produkte</a></li>
        <li style="float: none; padding: 10px;"><a href="/bp2/Feedback">Feedback</a></li>
        </ul>    
	
	<p:fieldset legend="Standort anlegen" style="margin-bottom:20px">
		<p:selectOneMenu value="#{standortBean.newStandort.kunde}" converter="at.campus02.bp2.mbean.KundeListConverter">
			<f:selectItems value="#{kundeBean.kundenListe}" var="kunde" itemLabel="#{kunde.kundenname}" itemValue="#{kunde}"/>
		</p:selectOneMenu>
		<h:outputLabel>Standorttyp:</h:outputLabel>
		<p:inputText label="Standorttyp" value="${standortBean.newStandort.standorttyp}"/>
		<h:outputLabel>Adresse:</h:outputLabel>
		<p:inputText label="Adresse" value="${standortBean.newStandort.adresse}"/>
		<h:outputLabel>Nr./Stock/Tür:</h:outputLabel>
		<p:inputText label="Nr./Stock/Tür" value="${standortBean.newStandort.detail}"/>
		<h:outputLabel>PLZ:</h:outputLabel>
		<p:inputText label="PLZ" value="${standortBean.newStandort.plz}"/>
		<h:outputLabel>Ort:</h:outputLabel>
		<p:inputText label="Ort" value="${standortBean.newStandort.ort}"/>
		<h:outputLabel>Land:</h:outputLabel>
		<p:inputText label="Land" value="${standortBean.newStandort.land}"/>
		<p:commandButton value="Speichern" actionListener="${standortBean.save}" update="messages,standortListe" />
	</p:fieldset>

		<p:dataTable id="standortListe" value="#{standortBean.standortListe}"
		var="standort" rowKey="#{standort.id}"
		selection="#{standortBean.selectedStandort}" selectionMode="single"
		editable="true" widgetVar="standortListe">
		
		<p:ajax event="rowEdit" listener="#{standortBean.onRowEdit}" />
		<p:ajax event="rowEditCancel" listener="#{standortBean.onRowCancel}" />
		
		
	 <f:facet name="header">
            <p:outputPanel>
                <h:outputText value="Search all fields:" />
                <p:inputText id="globalFilter" onkeyup="PF('standortListe').filter()" style="width:150px" placeholder="Enter keyword"/>
            </p:outputPanel>
     </f:facet>

		<p:column filterBy="#{standort.kunde.kundenname}">
			<f:facet name="header">
				<h:outputText value="Kunde"></h:outputText>
			</f:facet>
			<p:cellEditor>
			<f:facet name="output">
			<h:outputText value="#{standort.kunde.kundenname}"></h:outputText>
			</f:facet>
			<f:facet name="input">
			<p:inputText value="#{standort.kunde.kundenname}"></p:inputText>
			</f:facet>
			</p:cellEditor>
		</p:column>
		
		<p:column filterBy="#{standort.standorttyp}">
			<f:facet name="header">
				<h:outputText value="Standorttyp"></h:outputText>
			</f:facet>
			<p:cellEditor>
			<f:facet name="output">
			<h:outputText value="#{standort.standorttyp}"></h:outputText>
			</f:facet>
			<f:facet name="input">
			<p:inputText value="#{standort.standorttyp}"></p:inputText>
			</f:facet>
			</p:cellEditor>
		</p:column>
		
		<p:column filterBy="#{standort.adresse}">
			<f:facet name="header">
				<h:outputText value="Adresse"></h:outputText>
			</f:facet>
			<p:cellEditor>
			<f:facet name="output">
			<h:outputText value="#{standort.adresse}"></h:outputText>
			</f:facet>
			<f:facet name="input">
			<p:inputText value="#{standort.adresse}"></p:inputText>
			</f:facet>
			</p:cellEditor>
		</p:column>
		
		<p:column filterBy="#{standort.detail}">
			<f:facet name="header">
				<h:outputText value="Nr./Stock/Tür"></h:outputText>
			</f:facet>
			<p:cellEditor>
			<f:facet name="output">
			<h:outputText value="#{standort.detail}"></h:outputText>
			</f:facet>
			<f:facet name="input">
			<p:inputText value="#{standort.detail}"></p:inputText>
			</f:facet>
			</p:cellEditor>
		</p:column>
		
		<p:column filterBy="#{standort.plz}">
			<f:facet name="header">
				<h:outputText value="PLZ"></h:outputText>
			</f:facet>
			<p:cellEditor>
			<f:facet name="output">
			<h:outputText value="#{standort.plz}"></h:outputText>
			</f:facet>
			<f:facet name="input">
			<p:inputText value="#{standort.plz}"></p:inputText>
			</f:facet>
			</p:cellEditor>
		</p:column>
		
		<p:column filterBy="#{standort.ort}">
			<f:facet name="header">
				<h:outputText value="Ort"></h:outputText>
			</f:facet>
			<p:cellEditor>
			<f:facet name="output">
			<h:outputText value="#{standort.ort}"></h:outputText>
			</f:facet>
			<f:facet name="input">
			<p:inputText value="#{standort.ort}"></p:inputText>
			</f:facet>
			</p:cellEditor>
		</p:column>
		
		<p:column filterBy="#{standort.land}">
			<f:facet name="header">
				<h:outputText value="Land"></h:outputText>
			</f:facet>
			<p:cellEditor>
			<f:facet name="output">
			<h:outputText value="#{standort.land}"></h:outputText>
			</f:facet>
			<f:facet name="input">
			<p:inputText value="#{standort.land}"></p:inputText>
			</f:facet>
			</p:cellEditor>
		</p:column>
		
		
		<p:column style="width:32px">
			<p:rowEditor />
		</p:column>
		</p:dataTable>
	
	
		<p:contextMenu for="standortListe">
		<p:menuitem value="Delete" update="standortListe" icon="ui-icon-close"
			actionListener="#{standortBean.deleteStandort}" />
		</p:contextMenu>
	
</ui:composition>